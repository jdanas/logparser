# Log Parser

This simple Python script, `logparser`, is designed to parse specific Laravel log files to extract and display structured JSON data related to asset events.

## Purpose

The primary purpose of this tool is to quickly identify and present details of log entries generated by the `LogDataController@saveLogData` method within a Laravel application. These entries are expected to contain JSON payloads, which this script will extract and format for easier readability and analysis. This is particularly useful for debugging or monitoring asset-related events in your application.

## How It Works

1.  **Log Parsing**: It reads each line of a specified log file.
2.  **Format Recognition**: It uses a regular expression to parse lines that adhere to the standard Laravel log format (e.g., `[2025-12-04 06:53:18] local.INFO: Your log message...`).
3.  **Event Filtering**: It specifically looks for log messages that contain the string `"LogDataController@saveLogData"`.
4.  **JSON Extraction**: For identified messages, it attempts to extract and parse any JSON object embedded within the log message. It also handles cases where a `details` field within the JSON might itself be a stringified JSON, parsing it for better display.
5.  **Formatted Output**: The extracted JSON data is then pretty-printed to the console with syntax highlighting using the `rich` library. All console output is also saved to a file named `parsed_output.txt`.

## Specific Use Case

This parser is tailored for Laravel applications that log structured data, specifically JSON, when the `LogDataController@saveLogData` method is invoked. It helps in quickly reviewing the data payload associated with these specific log events without needing to manually parse raw log lines.

## Usage

To use the log parser, run the `main.py` script from your terminal and provide the path to your Laravel log file as an argument:

```bash
python main.py <path_to_your_laravel_log_file>
```

**Example:**

```bash
python main.py example.laravel.log
```

If no file is provided, it defaults to looking for a file named `laravel.log` in the current directory.

## Expected Output

For each `LogDataController@saveLogData` event found, the script will print the timestamp and the extracted, pretty-printed JSON payload to your console. All this output, including parsing messages, is also saved into `parsed_output.txt`.
